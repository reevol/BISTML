# Data Sources Configuration for BIST AI Trading System

# Macroeconomic Data Sources
macro_data:
  # FRED API (Federal Reserve Economic Data)
  fred:
    api_key: ${FRED_API_KEY}  # Set via environment variable
    base_url: "https://api.stlouisfed.org/fred"
    rate_limit: 120  # requests per minute

  # EVDS API (CBRT Electronic Data Delivery System)
  evds:
    api_key: ${EVDS_API_KEY}  # Set via environment variable
    base_url: "https://evds2.tcmb.gov.tr/service/evds"
    rate_limit: 100  # requests per minute

  # Yahoo Finance (No API key required)
  yahoo:
    rate_limit: 2000  # requests per hour

# Data Collection Settings
collection:
  # Default date ranges
  default_lookback_days: 365

  # Update frequencies (in minutes)
  update_frequency:
    turkish_cpi_ppi: 43200  # Monthly (30 days * 24 * 60)
    interest_rates: 10080   # Weekly (7 * 24 * 60)
    market_indices: 60      # Hourly
    forex: 30               # Every 30 minutes

  # Retry settings
  retry:
    max_attempts: 3
    backoff_factor: 2  # Exponential backoff

  # Cache settings
  cache:
    enabled: true
    ttl: 3600  # Time to live in seconds (1 hour)
    backend: "redis"  # or "file"
    redis_url: "redis://localhost:6379/0"

# Indicator Configuration
indicators:
  # Turkish Indicators
  turkish:
    - name: "TR_CPI"
      frequency: "monthly"
      priority: "high"

    - name: "TR_PPI"
      frequency: "monthly"
      priority: "high"

    - name: "TR_INTEREST_RATE"
      frequency: "weekly"
      priority: "high"

    - name: "TR_USD_TRY"
      frequency: "daily"
      priority: "medium"

  # Global Indicators
  global:
    - name: "SP500"
      frequency: "hourly"
      priority: "high"

    - name: "DAX"
      frequency: "hourly"
      priority: "high"

    - name: "VIX"
      frequency: "hourly"
      priority: "medium"

    - name: "US_INTEREST_RATE"
      frequency: "daily"
      priority: "medium"

# Feature Engineering Settings
features:
  derived:
    # Calculate returns
    returns:
      - "1d"
      - "1w"
      - "1m"
      - "3m"
      - "1y"

    # Rolling statistics
    rolling_windows:
      - 7    # 1 week
      - 30   # 1 month
      - 90   # 3 months
      - 252  # 1 year (trading days)

    # Technical indicators
    technical:
      - "ma"     # Moving average
      - "std"    # Standard deviation
      - "rsi"    # Relative strength
      - "z_score"  # Z-score normalization

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/macro_collector.log"
  max_bytes: 10485760  # 10 MB
  backup_count: 5
