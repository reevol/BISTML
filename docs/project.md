Comprehensive AI Trading System for BISTThis prompt outlines the development of a highly sophisticated, hybrid AI-driven quantitative trading system specifically tailored for the Borsa Istanbul (BIST) equity market. The goal is to generate high-probability, short-term trading signals (30-minute and hourly) by integrating Machine Learning (ML), Natural Language Processing (NLP), and advanced Flow/Balina (Whale) Analysis.PROJECT OVERVIEW AND OBJECTIVEProject Title: BIST High-Frequency Signal Generation and Whale Tracking Hybrid AI Quant SystemCore Objective: To engineer a robust, modular, and data-intensive Python program capable of producing actionable, prioritized BUY/SELL/HOLD signals every 30 minutes and hourly for BIST-listed equities, based on a synergistic analysis of five primary data layers: Technical, Fundamental, Price/Volume, Trading Flow (Takas/Whale), and News Sentiment.SECTION 1: DATA ENGINEERING AND INTEGRATION (The Foundation)The system must establish comprehensive pipelines for collecting, cleaning, and synchronizing multiple time series data streams.1.1. Core Financial Data (OHLCV)Scope: All BIST 100 constituents and relevant indices (e.g., BIST 30, BIST 50, Sector Indices).Granularity: Mandatory support for Daily, Hourly, 30-Minute, and 15-Minute timeframes to facilitate high-frequency signal generation.Required Features: Open, High, Low, Close, Volume (OHLCV), and adjusted prices (for dividends/splits).1.2. Fundamental and Macro DataInput: Quarterly and Annual Financial Statements (Balance Sheet, Income Statement, Cash Flow).Derived Features: Calculate standard valuation multiples and growth rates: Price-to-Earnings (P/E), Price-to-Book (P/B), Enterprise Value-to-EBITDA (EV/EBITDA), Revenue Growth, Net Profit Margin, and Debt-to-Equity ratios.Macro Indicators (Optional but Preferred): Incorporate Turkish CPI/PPI, Interest Rate decisions, and Global Market Indices (e.g., S&P 500, DAX) as auxiliary features.1.3. Advanced Technical Indicators (Feature Engineering)Calculate a comprehensive set of technical indicators across all granularities (30-min, 1-hr, Daily) to serve as predictive features for the ML models.Trend Following: Simple Moving Averages (SMA), Exponential Moving Averages (EMA), Hull Moving Average (HMA), Ichimoku Cloud Components (Tenkan-sen, Kijun-sen).Momentum/Oscillators: Relative Strength Index (RSI), Moving Average Convergence Divergence (MACD), Stochastic Oscillator, Average Directional Index (ADX), Williams %R.Volatility: Bollinger Bands, Average True Range (ATR), and Donchian Channels.1.4. Trading Flow and "Whale" Analysis (Takas Verileri)This is a critical, complex component focused on tracking institutional and high-net-worth investor movements ("Balina").Data Inputs: Daily Brokerage Distribution Data (Aracı Kurum Dağılımı), Foreign/Local Institutional Ownership Changes, and Top 5/10 Buying/Selling Brokerage volumes.Feature Creation: Develop a "Whale Activity Index (WAI)" that quantifies the net flow impact of the top N brokers relative to the stock's average daily volume. The model must specifically track:Price Discrepancy: Instances where a stock price is being deliberately suppressed or inflated despite major institutional net flow.Accumulation/Distribution: Long-term patterns of large-scale, quiet accumulation or distribution.SECTION 2: HYBRID MACHINE LEARNING ARCHITECTUREThe system must employ multiple, specialized ML models whose outputs are combined into a final, highly reliable signal.2.1. Price Forecasting Model (Regression)Purpose: To predict the Target Price or the expected percentage return for the next 30-minute/1-hour period.Algorithms:Time Series Deep Learning: LSTM (Long Short-Term Memory) or GRU (Gated Recurrent Unit) networks, optimized for sequence data (OHLCV and historical indicators).Ensemble Methods: XGBoost or LightGBM, utilizing the extensive set of engineered features (Technical, Fundamental, and WAI features).Output: A predicted price value and an associated Confidence Score.2.2. Signal Classification ModelPurpose: To classify the future movement into discrete trading decisions: Strong BUY, BUY, HOLD, SELL, Strong SELL.Algorithm: Random Forest Classifier or Artificial Neural Networks (ANN).Input: The combined outputs from the Regression Model, NLP Sentiment Model, and all Section 1 features.2.3. News Sentiment and LLM Integration (NLP/LLM)Sentiment Model Development: A specialized Turkish NLP model must be trained or fine-tuned to perform financial sentiment analysis on Turkish news sources (major economic portals, official KAP disclosures).LLM Role (Conditional Requirement): The Large Language Model (LLM) should be integrated to synthesize and summarize the sentiment results from multiple articles/sources related to a single stock, generating a final, nuanced Impact Score (e.g., Slightly Positive due to Foreign Order, but Negative due to Sector Risk).SECTION 3: SIGNAL GENERATION AND AUTOMATION MODULES3.1. High-Frequency Signal EngineExecution Schedule: The signal generation process must automatically run at 30-minute and 60-minute intervals while the BIST is open.Prioritization: The system must use the combined Confidence Scores and Whale Activity Scores to rank potential trades, prioritizing those with the highest probability and institutional backing.3.2. Final Output Reporting StructureThe primary output must be a clean, prioritized, and easily readable Actionable Trade List presented in a tabular format with the following mandatory columns:Column NameData SourceDescriptionStock CodeFinancial DataBIST TickerFinal SignalClassification ModelStrong BUY / BUY / HOLD / SELL / Strong SELLML Target PriceRegression ModelPredicted price for the next period endPrediction Confidence (%)Hybrid ModelEnsemble score (0-100) indicating reliabilityWhale Activity Score (WAI)Takas AnalysisQuantified score of institutional buying/selling pressureNews Sentiment ScoreNLP/LLM OutputNet sentiment score (-1 to +1)3.3. Portfolio Management IntegrationThe system must include a module to accept user-defined Portfolio Inputs (Stock, Cost Basis, Quantity).Upon generating new signals, the system must cross-reference them with the user's holdings and issue specific, immediate Portfolio Alerts (e.g., "Strong Sell Signal generated for your existing holding: [Stock Code]").3.4. Backtesting and Simulation EngineValidation Requirement: A critical component is the ability to run a full historical simulation of the generated signals across a user-defined time range (e.g., the last 3 years).Metrics Reporting: The simulation engine must calculate and report the following performance metrics:Win Rate (Percentage of profitable trades).Average Profit/Loss per trade (in basis points).Maximum Drawdown (MDD) (Largest percentage loss from a peak).Sharpe Ratio (Risk-adjusted return).SECTION 4: TECHNICAL SPECIFICATIONS AND IMPLEMENTATIONProgramming Language: Python (Mandatory).Libraries: Extensive use of Pandas, NumPy, SciPy for data manipulation; Scikit-learn, TensorFlow/PyTorch for ML/Deep Learning; and NLTK/SpaCy/Hugging Face Transformers for NLP.Modularity: The codebase must be highly modular and well-documented, with distinct modules for Data Acquisition, Feature Engineering, Model Training, Signal Generation, and Backtesting/Reporting.Scalability: The architecture should allow for easy addition of new features and periodic retraining of the ML models using new data without requiring a full system overhaul.Output Presentation: A simple, command-line interface or a basic Streamlit/Dash Dashboard should be implemented to visualize the live signal table and the backtesting results.
